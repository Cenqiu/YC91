<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>全选全不选</title>
</HEAD>

<BODY>
	<FORM>
		<table width="570" border="1">
			<TR>
				<TD colspan="4" align="center"><h3>世界顶级跑车你认识几款？</h3></TD>
			</TR>
			<TR>
				<td colspan="4" align="center"><INPUT id="car" type="checkbox"
					name="car" onclick="selectAll()">我是超级车迷，我全部认识</td>
			</TR>
			<tr>
				<td width="86" align="center">
					<INPUT type="checkbox" name="logo" onclick="selectOne(this)">
				</td>
				<td width="178" align="center"><IMG src="images/frali.jpg">
				<p>法拉利</p></td>
				<td width="78" align="center"><INPUT type="checkbox"  onclick="selectOne(this)"
					name="logo"></td>
				<td width="208" align="center"><IMG src="images/skoda.jpg">
				<p>斯柯达</p></td>
			</tr>
			<tr>
				<td align="center"><INPUT type="checkbox" name="logo"  onclick="selectOne(this)"></td>
				<td align="center"><IMG src="images/binli.jpg">
				<p>宾利</p></td>
				<td align="center"><INPUT type="checkbox" name="logo"  onclick="selectOne(this)"></td>
				<td align="center"><IMG src="images/lamborghini.jpg">
				<p>兰博基尼</p></td>
			</tr>
			<TR>
				<td align="center"><INPUT type="checkbox" name="logo"  onclick="selectOne(this)"></td>
				<td align="center"><IMG src="images/porsche.jpg">
				<p>保时捷</p></td>
				<td align="center"><INPUT type="checkbox" name="logo" onclick="selectOne(this)"></td>
				<td align="center"><IMG src="images/alefromeo.jpg">
				<p>阿尔法罗密欧</p></td>
			</tr>
		</table>
	</FORM>
</BODY>

<script type="text/javascript">
	//勾选所有的多选框
	function selectAll() {
		// 获取最上面的多选框的选择状态
		var checked = car.checked;
		// 选择 6 个车牌多选框
		var cbxs = document.getElementsByName("logo"); // 数组
		console.info(cbxs.length);
		// 将其设置勾选
		for (var i = 0; i < cbxs.length; i++) {
			console.info(cbxs[i]); // ==> System.out.println()
			cbxs[i].checked = checked;
		}
	}
	
	// 扩展： 下面的多选框取消选择状态，那么最上面的多选框就要取消选择
	
	/*
	1. 给每个车牌多选框添加事件函数
	2.判断当前的车牌多选框的选择状态
	3.改变最上面的多选框状态
	*/

	function selectOne(cbx) {
		if( ! cbx.checked ) {
			// 如果没有勾选
			car.checked = false;
		} else {
			// 如果勾选
			var cbxs = document.getElementsByName("logo"); // 数组
			// 判断所有的车牌多选框是否都勾选了
			for (var i = 0; i < cbxs.length; i++) {
				// 如果有一个没有勾，那么就退出，不改变全选状态
				if( ! cbxs[i].checked){
					return;
				}
			}
			// 退出循环，说明全勾，那么勾选全选
			car.checked = true;
		}
		
	}

</script>



</HTML>
