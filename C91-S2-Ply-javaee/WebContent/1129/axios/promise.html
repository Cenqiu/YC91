<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<script type="text/javascript">

// runnable ==》 run
var p = new Promise( function(resolve,reject){
	// 异步执行的业务代码
	var r = Math.random(); // 0>   <1
	if(r>0.5){
		resolve("success");
	} else {
		reject("failure");
	}
});

var p1 = new Promise( function(resolve,reject){
	// 异步执行的业务代码
	var r = Math.random(); // 0>   <1
	if(r>0.5){
		resolve("成功");
	} else {
		reject("失败");
	}
});

// 链式调用
p.then( function(data){
	console.info(data);
	return p1;
}, function(data){
	console.info(data);
	return p1;
})

	.then(function(data){
		console.info(data);
	},function(data){
		console.info(data);
	})



;


</script>


</body>
</html>